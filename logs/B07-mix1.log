>proxy temp/proxyProxy set up at localhost:13912
>source '/afs/andrew.cmu.edu/usr18/sarthak3/proxylab-m18-sarthakjain27/tests/B07-mix1.cmd'># Test ability to handle mix of requests and fetches, with missing and present binary and text files
>serve s1 s2 s3
Server s1 running at localhost:13913
Server s2 running at localhost:13914
Server s3 running at localhost:13915
>generate random-text1.txt 10k
>generate random-binary1.bin 10k
>generate random-text2.txt 100k
>generate random-binary2.bin 100k
>generate random-text3.txt 1m
>generate random-binary3.bin 1m
>request r1 random-text1.txt s1
Client: Requesting '/random-text1.txt' from localhost:13913
Proxy stderr: host localhost uri http://localhost:13913 def_port 13913
>request r2 random-binary2.bin s2
Client: Requesting '/random-binary2.bin' from localhost:13914
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-text1.txt HTTP/1.0
>request r3 nothing.txt s3
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Client: Requesting '/nothing.txt' from localhost:13915
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: r1
>request r4 random-binary2.bin s1
Proxy stderr: Response: Deferred
Client: Requesting '/random-binary2.bin' from localhost:13913
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
>request r5 random-text3.txt s2
Client: Requesting '/random-text3.txt' from localhost:13914
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-text1.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
>request r6 nothing.txt s3
Proxy stderr: Proxy-Connection: close
Client: Requesting '/nothing.txt' from localhost:13915
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: r1
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
>request r7 random-text2.txt s1
Proxy stderr: entering loop to read response from server
Client: Requesting '/random-text2.txt' from localhost:13913
Proxy stderr: host localhost uri http://localhost:13914 def_port 13914
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-binary2.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
>request r8 random-binary3.bin s2
Proxy stderr: Proxy-Connection: close
Client: Requesting '/random-binary3.bin' from localhost:13914
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: r2
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
>request r9 nothing.txt s3
Proxy stderr: Request not present in cache
Client: Requesting '/nothing.txt' from localhost:13915
Proxy stderr: writing the request headers to server GET /random-binary2.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
>delay 100
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: r2
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: host localhost uri http://localhost:13915 def_port 13915
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: r3
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: r3
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: host localhost uri http://localhost:13913 def_port 13913
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-binary2.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: r4
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-binary2.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: r4
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: host localhost uri http://localhost:13914 def_port 13914
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-text3.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: r5
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-text3.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: r5
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: host localhost uri http://localhost:13915 def_port 13915
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: r6
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: r6
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: host localhost uri http://localhost:13913 def_port 13913
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-text2.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: r7
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-text2.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: r7
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: host localhost uri http://localhost:13914 def_port 13914
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-binary3.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: r8
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-binary3.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: r8
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: host localhost uri http://localhost:13915 def_port 13915
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: r9
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: r9
Proxy stderr: Response: Deferred
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
>respond r1 r2 r3 r4 r5 r6 r7 r8 r9
Server responded to request r1 with status ok
Server responded to request r2 with status ok
Server responded to request r3 with status not_found (File 'nothing.txt' not found)
Server responded to request r4 with status ok
Server responded to request r5 with status ok
Server responded to request r6 with status not_found (File 'nothing.txt' not found)
Proxy stderr: While loop entered
Server responded to request r7 with status ok
Server responded to request r8 with status ok
Proxy stderr: nread 267 and response_size 267
Proxy stderr: New request inserted in cache uri_w/o_path http://localhost:13915 path /nothing.txt port 13915
Proxy stderr: total request in cache 1
Server responded to request r9 with status not_found (File 'nothing.txt' not found)
># These won't hit cache, since they use different servers
>fetch f1 random-text1.txt s2
Proxy stderr: total cache size 267
Client: Fetching '/random-text1.txt' from localhost:13914
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
Proxy stderr: nread 267 and response_size 267
>fetch f2 random-binary2.bin s3
Client: Fetching '/random-binary2.bin' from localhost:13915
Proxy stderr: New request inserted in cache uri_w/o_path http://localhost:13915 path /nothing.txt port 13915
Proxy stderr: total request in cache 2
Proxy stderr: total cache size 534
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
>fetch f3 nothing.txt s1
Proxy stderr: nread 8192 and response_size 16384
Client: Fetching '/nothing.txt' from localhost:13913
Proxy stderr: While loop entered
Proxy stderr: nread 267 and response_size 267
Proxy stderr: New request inserted in cache uri_w/o_path http://localhost:13915 path /nothing.txt port 13915
>fetch f4 random-binary2.bin s2
Proxy stderr: total request in cache 3
Proxy stderr: total cache size 801
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Client: Fetching '/random-binary2.bin' from localhost:13914
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
Proxy stderr: nread 1917 and response_size 10109
>fetch f5 random-text3.txt s3
Client: Fetching '/random-text3.txt' from localhost:13915
Proxy stderr: New request inserted in cache uri_w/o_path http://localhost:13913 path /random-text1.txt port 13913
Proxy stderr: total request in cache 4
Proxy stderr: total cache size 10910
Proxy stderr: While loop entered
>fetch f6 nothing.txt s1
Client: Fetching '/nothing.txt' from localhost:13913
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
>fetch f7 random-text2.txt s2
Proxy stderr: host localhost uri http://localhost:13914 def_port 13914
Proxy stderr: Checking for presence of request in cache
Client: Fetching '/random-text2.txt' from localhost:13914
Proxy stderr: GET /random-text1.txt HTTP/1.0
>fetch f8 random-binary3.bin s3
Client: Fetching '/random-binary3.bin' from localhost:13915
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
>fetch f9 nothing.txt s1
Client: Fetching '/nothing.txt' from localhost:13913
Proxy stderr: Request-ID: f1
>delay 300
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-text1.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: f1
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
Proxy stderr: nread 1917 and response_size 10109
Proxy stderr: New request inserted in cache uri_w/o_path http://localhost:13914 path /random-text1.txt port 13914
Proxy stderr: total request in cache 5
Proxy stderr: total cache size 21019
Proxy stderr: host localhost uri http://localhost:13915 def_port 13915
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-binary2.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: f2
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-binary2.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: f2
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: host localhost uri http://localhost:13913 def_port 13913
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: f3
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: f3
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: While loop entered
Proxy stderr: nread 267 and response_size 267
Proxy stderr: New request inserted in cache uri_w/o_path http://localhost:13913 path /nothing.txt port 13913
Proxy stderr: total request in cache 6
Proxy stderr: total cache size 21286
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: host localhost uri http://localhost:13914 def_port 13914
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-binary2.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: f4
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-binary2.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: f4
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: While loop entered
Proxy stderr: host localhost uri http://localhost:13915 def_port 13915
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-text3.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: f5
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: writing the request headers to server GET /random-text3.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: f5
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 49152
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 57344
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 49152
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 57344
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: host localhost uri http://localhost:13913 def_port 13913
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: f6
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node 0x7f7fa8014b40
Proxy stderr: Request present in cache
Proxy stderr: Calling delete node
Proxy stderr: returned from delete node, calling insert
Proxy stderr: returned from insert fronthost localhost uri http://localhost:13914 def_port 13914
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-text2.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: f7
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 65536
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 73728
Proxy stderr: writing the request headers to server GET /random-text2.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13914
Proxy stderr: Request-ID: f7
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 49152
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 57344
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: host localhost uri http://localhost:13915 def_port 13915
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /random-binary3.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: f8
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node (nil)
Proxy stderr: Request not present in cache
Proxy stderr: writing the request headers to server GET /random-binary3.bin HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13915
Proxy stderr: Request-ID: f8
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: entering loop to read response from server
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 49152
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 57344
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 49152
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 57344
Proxy stderr: host localhost uri http://localhost:13913 def_port 13913
Proxy stderr: Checking for presence of request in cache
Proxy stderr: GET /nothing.txt HTTP/1.0
Proxy stderr: User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20180601 Firefox/45.0
Proxy stderr: Connection: close
Proxy stderr: Proxy-Connection: close
Proxy stderr: Host: localhost:13913
Proxy stderr: Request-ID: f9
Proxy stderr: Response: Immediate
Proxy stderr: 
Proxy stderr: 
Proxy stderr: Calling check presence function
Proxy stderr: Returned from check presence with present node 0x7f7fa8014b40
Proxy stderr: Request present in cache
Proxy stderr: Calling delete node
Proxy stderr: returned from delete node, calling insert
Proxy stderr: returned from insert frontWhile loop entered
Proxy stderr: nread 8192 and response_size 65536
Proxy stderr: While loop entered
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 73728
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 81920
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 90112
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 98304
Proxy stderr: While loop entered
Proxy stderr: nread 1820 and response_size 100124
Proxy stderr: New request inserted in cache uri_w/o_path http://localhost:13914 path /random-binary2.bin port 13914
Proxy stderr: total request in cache 7
Proxy stderr: total cache size 121410
Proxy stderr: While loop entered
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 65536
Proxy stderr: nread 8192 and response_size 8192
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 73728
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 81920
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 81920
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 90112
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 98304
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 16384
Proxy stderr: While loop entered
Proxy stderr: nread 1820 and response_size 100124
Proxy stderr: New request inserted in cache uri_w/o_path http://localhost:13913 path /random-binary2.bin port 13913
Proxy stderr: total request in cache 8
Proxy stderr: total cache size 221534
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 65536
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 73728
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 65536
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 73728
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 81920
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 90112
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 98304
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 49152
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 57344
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 90112
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 98304
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 49152
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 57344
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 24576
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 32768
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 40960
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 81920
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 90112
Proxy stderr: While loop entered
Proxy stderr: nread 8192 and response_size 98304
Proxy stderr: While loop entered
Proxy stderr: nread 1806 and response_size 100110
>check r1
Request r1 yielded expected status 'ok'
>check r2
Request r2 yielded expected status 'ok'
>check r3 404
Request r3 yielded expected status 'not_found'
>check r4
Request r4 yielded expected status 'ok'
>check r5
ERROR: Request r5 generated status 'error'.  Expecting 'ok' (Socket closed after reading 98193/1000000 bytes)
>check r6 404
Request r6 yielded expected status 'not_found'
>check r7 
Request r7 yielded expected status 'ok'
>check r8 
ERROR: Request r8 generated status 'error'.  Expecting 'ok' (Socket closed after reading 98179/1000000 bytes)
>check r9 404
Request r9 yielded expected status 'not_found'
>check f1
Request f1 yielded expected status 'ok'
>check f2
ERROR: Request f2 generated status 'error'.  Expecting 'ok' (Socket closed after reading 57220/100000 bytes)
>check f3 404
Request f3 yielded expected status 'not_found'
>check f4
ERROR: Request f4 generated status 'error'.  Expecting 'ok' (Socket closed after reading 57220/100000 bytes)
>check f5
ERROR: Request f5 generated status 'error'.  Expecting 'ok' (Socket closed after reading 40849/1000000 bytes)
Too many errors.  Exiting
ERROR COUNT = 5
